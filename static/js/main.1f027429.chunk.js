(this["webpackJsonpnotion-graphs"]=this["webpackJsonpnotion-graphs"]||[]).push([[0],{12:function(t,e,n){t.exports=n.p+"static/media/loop2.9dfc4175.svg"},14:function(t,e,n){t.exports=n(22)},19:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),i=(n(19),n(5)),s=n(7),l=n(1),u=n.n(l),p=n(11),f=n(30),h=n(31),m=n(33),d=n(32),b=(n(21),n(6)),v=n(12),g=n.n(v),j=function(){var t=Object(a.useRef)(null),e=window.location.search;console.log(document.cookie),console.log(window.location);var n=Object(b.a)(e,function(){var t=Object(p.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://l175wxlpxi.execute-api.us-east-1.amazonaws.com/production/line_graph"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Cache:"no-cache"},credentials:"include"});case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a.data_points);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{refreshInterval:3e4}).data;return Object(a.useEffect)((function(){if(null!=t&&null!=t.current&&n){var a=n.filter((function(t){return null!=t.x&&null!=t.y&&null!=t.size})),r=new URLSearchParams(e),o=function(t){return parseInt(r.get(t))},c=function(t,e){var n=o("".concat(t,"Max")),a=o("".concat(t,"Min"));if(!n||!a){var r=function(t,e){var n,a;return n=Math.min.apply(Math,Object(s.a)(t.map((function(t){return t[e]})))),(a=Math.max.apply(Math,Object(s.a)(t.map((function(t){return t[e]})))))===n&&(a+=0===a?1:.1*Math.abs(a)),[n,a]}(e,t),c=Object(i.a)(r,2),l=c[0],u=c[1];return[n||l,a||u]}return[n,a]},l=c("x",a),u=Object(i.a)(l,2),p=u[0],b=u[1],v=c("y",a),g=Object(i.a)(v,2),j=g[0],w=g[1],x=c("size",a),O=Object(i.a)(x,2),y=O[0],k=O[1],M=Object(f.a)(t.current),E=t.current.clientWidth-50,z=t.current.clientHeight-50,A=Object(h.a)().domain([p,b+.1*Math.abs(b-p)]).range([25,E]),C=Object(h.a)().domain([j-.1*Math.abs(w-j),w]).range([z,65]),I=Object(h.a)().domain([y,k+.1*Math.abs(k-y)]).range([3,7]);M.append("g").attr("class","x axis").attr("transform","translate(0,".concat(z,")")).call(Object(m.a)(A)),M.append("g").attr("class","y axis").attr("transform","translate(25,0)").call(Object(m.b)(C));var S=Object(d.a)().x((function(t){return A(t.x)})).y((function(t){return C(t.y)}));M.select(".line").remove(),M.append("path").datum(a).attr("class","line").attr("d",S).attr("fill","none").attr("pointer-events","visibleStroke").style("stroke","black").attr("stroke-width","1px"),M.selectAll(".dot").remove(),M.selectAll(".dot").data(a).enter().append("circle").attr("class","dot").attr("cx",(function(t){return A(t.x)})).attr("cy",(function(t){return C(t.y)})).attr("r",(function(t){return I(t.size)})).on("mouseover",(function(t){console.log(t)})).on("mouseout",(function(){}))}}),[n,e]),r.a.createElement("div",{className:"container"},r.a.createElement("svg",{id:"journey-timeline",ref:t}),r.a.createElement("button",{id:"refresh-button",onClick:function(){return Object(b.b)(e)}}," ",r.a.createElement("img",{alt:"refresh graph",src:g.a})),r.a.createElement("iframe",{src:"https://www.notion.so",title:"notion iframe"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.1f027429.chunk.js.map